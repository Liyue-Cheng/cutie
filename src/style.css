/* ============================================
   Cutie 应用全局样式
   语义化颜色系统 v2.0
   ============================================ */

@import './styles/rose-pine-themes.css';


/* ============================================
   0. 字体定义 - 霞鹜文楷
   ============================================ */

@font-face {
  font-family: 'LXGW WenKai';
  src: url('./assets/fonts/LXGWWenkai/LXGWWenKai-Light.ttf') format('truetype');
  font-weight: 300;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'LXGW WenKai';
  src: url('./assets/fonts/LXGWWenkai/LXGWWenKai-Regular.ttf') format('truetype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'LXGW WenKai';
  src: url('./assets/fonts/LXGWWenkai/LXGWWenKai-Medium.ttf') format('truetype');
  font-weight: 500;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'LXGW WenKai Mono';
  src: url('./assets/fonts/LXGWWenkai/LXGWWenKaiMono-Light.ttf') format('truetype');
  font-weight: 300;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'LXGW WenKai Mono';
  src: url('./assets/fonts/LXGWWenkai/LXGWWenKaiMono-Regular.ttf') format('truetype');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

@font-face {
  font-family: 'LXGW WenKai Mono';
  src: url('./assets/fonts/LXGWWenkai/LXGWWenKaiMono-Medium.ttf') format('truetype');
  font-weight: 500;
  font-style: normal;
  font-display: swap;
}


/* ============================================
   1. 尺寸规范基准
   ============================================ */
html {
  /* 设定 1rem = 10px 的基准，便于计算 */
  font-size: 62.5% !important;
}


/* ============================================
   2. 默认主题 - Rose Pine (深色)
   ============================================ */

:root {
  /* 2.1 基础背景色系 */
  --color-background-primary: #191724;
  --color-background-secondary: #1f1d2e;
  --color-background-content: #1f1d2e;
  --color-background-elevated: #26233a;
  --color-background-hover: #26233a;
  --color-background-active: #403d52;
  --color-background-selected: #21202e;
  --color-background-disabled: #21202e;
  --color-background-input: #1f1d2e;
  --color-background-input-hover: #21202e;
  --color-background-input-focus: #26233a; /* Elevated */
  --color-overlay-light: rgba(0, 0, 0, 0.05);
  --color-overlay-medium: rgba(0, 0, 0, 0.15);
  --color-overlay-heavy: rgba(0, 0, 0, 0.5);
  --color-background-drag-target: #21202e;
  --color-background-drag-preview: #21202e;

  /* 2.2 文本色系 */
  --color-text-primary: #e0def4;
  --color-text-secondary: #bfbcd4;
  --color-text-tertiary: #6e6a86;
  --color-text-disabled: #6e6a86;
  --color-text-placeholder: #6e6a86;
  --color-text-accent: #9ccfd8;
  --color-text-on-accent: #191724;
  --color-text-on-dark: #e0def4;

  /* 2.3 边框色系 - 使用 Rose Pine Highlight 系列 */
  --color-border-default: #403d52; /* Highlight Med */
  --color-border-light: rgba(64, 61, 82, 0.3); /* Highlight Med 半透明 */
  --color-border-strong: #524f67; /* Highlight High */
  --color-border-subtle: rgba(64, 61, 82, 0.3); /* 极淡边框，用于大面积内容区 */
  /* 自适应边框 - 根据主题调整可见度 */
  --color-border-adaptive-light-normal-dark-soft: rgba(64, 61, 82, 0.5); /* 亮色正常，暗色稍淡 */
  --color-border-adaptive-light-normal-dark-faint: rgba(64, 61, 82, 0.2); /* 亮色正常，暗色很淡 */
  --color-border-adaptive-light-subtle-dark-none: transparent; /* 亮色淡边框，暗色无 */
  --color-border-adaptive-light-normal-dark-none: transparent; /* 亮色正常，暗色无 */
  --color-border-hover: #9ccfd8;
  --color-border-focus: #9ccfd8;
  --color-border-active: #9ccfd8;
  --color-border-error: #eb6f92;
  --color-border-success: #9ccfd8;
  --color-border-warning: #f6c177;
  --color-border-input: #403d52; /* Highlight Med */
  --color-border-input-hover: #524f67; /* Highlight High */
  --color-border-input-focus: #9ccfd8;

  /* 2.4 状态色系 */
  --color-success: #9ccfd8;
  --color-success-light: #21202e;
  --color-success-text: #9ccfd8;
  --color-warning: #f6c177;
  --color-warning-light: #21202e;
  --color-warning-text: #f6c177;
  --color-danger: #eb6f92;
  --color-danger-light: #21202e;
  --color-danger-text: #eb6f92;
  --color-info: #31748f;
  --color-info-light: #21202e;
  --color-info-text: #31748f;

  /* 2.5 任务状态专用色 */
  --color-status-completed: #31748f;
  --color-status-completed-light: #21202e;
  --color-status-completed-checkbox: #31748f;
  --color-status-present: #c4a7e7;
  --color-status-present-light: #21202e;
  --color-status-present-checkbox: #c4a7e7;
  --color-status-pending: #6e6a86;
  --color-status-pending-checkbox: #6e6a86;
  --color-status-archived: #908caa;
  --color-status-archived-light: #21202e;
  --color-deadline-soft: #6e6a86;
  --color-deadline-hard: #f6c177;
  --color-deadline-overdue: #eb6f92;
  --color-deadline-upcoming: #f6c177;

  /* 2.6 交互色系 */
  --color-focus-ring: #9ccfd8;
  --color-focus-ring-danger: #eb6f92;
  --color-selected-indicator: #9ccfd8;
  --color-selected-background: #21202e;
  --color-drag-border: #9ccfd8;
  --color-drag-indicator: #31748f;
  --color-drop-zone-active: #403d52;

  /* 2.7 时间相关色 */
  --color-time-current: #31748f;
  --color-time-past: #6e6a86;
  --color-time-future: #9ccfd8;
  --color-time-conflict: #eb6f92;
  --color-calendar-today: #9ccfd8;
  --color-calendar-today-bg: #21202e;
  --color-calendar-weekend: #908caa;
  --color-calendar-other-month: #6e6a86;

  /* 2.8 组件专用色 */
  /* Rose Pine: primary button 改用 Moon 的 Pine（更亮一些） */
  --color-button-primary-bg: #3e8fb0; /* Moon Pine */
  --color-button-primary-hover: var(--rose-pine-foam); /* Hover 稍亮一点 */
  --color-button-primary-text: var(--rose-pine-base); /* 文字用 base（更干净） */
  --color-button-secondary-bg: transparent;
  --color-button-secondary-hover: #21202e;
  --color-button-secondary-border: rgba(110, 106, 134, 0.25);
  --color-button-danger-bg: #eb6f92;
  --color-button-danger-hover: #eb6f92;
  --color-button-danger-text: #191724;
  --color-card-background: #26233a; /* Overlay - 卡片比 Surface 背景更亮 */
  --color-card-hover: #2a2740;
  --color-card-border: rgba(64, 61, 82, 0.3);
  --color-card-available: #26233a; /* Overlay */
  --color-divider: rgba(64, 61, 82, 0.3);
  --color-divider-strong: rgba(110, 106, 134, 0.25);
  --color-tag-background: #21202e;
  --color-tag-text: #e0def4;
  --color-tag-border: rgba(64, 61, 82, 0.3);
  --color-background-accent: #9ccfd8;
  --color-background-accent-light: #21202e;

  /* 2.9 效果系统 */
  --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.08);
  --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.10);
  --shadow-lg: 0 8px 24px rgba(0, 0, 0, 0.12);
  --shadow-xl: 0 16px 48px rgba(0, 0, 0, 0.15);
  --shadow-focus: 0 0 0 3px #403d52;
  --shadow-focus-danger: 0 0 0 3px #eb6f92;
  --opacity-disabled: 0.5;
  --opacity-loading: 0.6;
  --opacity-completed: 0.7;
  --opacity-drag: 0.85;
  --opacity-hover-subtle: 0.08;
  --color-skeleton-base: #21202e;
  --color-skeleton-highlight: #403d52;
  --color-empty-icon: #6e6a86;
  --color-empty-text: #908caa;

  /* 2.10 UI 元素专用色 */
  --color-scrollbar-thumb: #6e6a86;
  --color-scrollbar-thumb-hover: #908caa;
  --color-handle: #6e6a86;
  --color-handle-hover: #908caa;
  --color-input-underline: #6e6a86;
  --color-calendar-grid: #524f67;

  /* 2.11 默认区域色 */
  /* 统一：效率灰（用于“无区域”任务/时间块的默认颜色） */
  --color-area-default: #9ca3af;
}


/* ============================================
   3. Rose Pine Dawn 主题（浅色）
   ============================================ */

body.theme-rose-pine-dawn {
  /* 3.1 基础背景色系 */
  --color-background-primary: #faf4ed;
  --color-background-secondary: #fffaf3;
  --color-background-content: #f6efe8;
  --color-background-elevated: #f2e9e1; /* Rose Pine Overlay */
  --color-background-hover: #f4ede8;
  --color-background-active: #dfdad9;
  --color-background-selected: rgba(40, 105, 131, 0.08);
  --color-background-disabled: #f4ede8;
  --color-background-input: #ffffff;
  --color-background-input-hover: #f4ede8;
  --color-background-input-focus: #f2e9e1; /* Elevated */
  --color-overlay-light: rgba(0, 0, 0, 0.03);
  --color-overlay-medium: rgba(0, 0, 0, 0.10);
  --color-overlay-heavy: rgba(0, 0, 0, 0.5);
  --color-background-drag-target: rgba(86, 149, 159, 0.08);
  --color-background-drag-preview: rgba(0, 0, 0, 0.02);

  /* 3.2 文本色系 */
  --color-text-primary: #575279;
  --color-text-secondary: #797593;
  --color-text-tertiary: #9893a5;
  --color-text-disabled: rgba(87, 82, 121, 0.4);
  --color-text-placeholder: #9893a5;
  --color-text-accent: #56949f;
  --color-text-on-accent: #ffffff;
  --color-text-on-dark: #575279;

  /* 3.3 边框色系 */
  --color-border-default: #e0dce0;
  --color-border-light: #ede9e3;
  --color-border-strong: #d0cdd1;
  --color-border-subtle: #ede9e3; /* 浅色主题边框可以更明显 */
  /* 自适应边框 - 浅色主题下正常显示 */
  --color-border-adaptive-light-normal-dark-soft: #e0dce0; /* 亮色正常，暗色稍淡 */
  --color-border-adaptive-light-normal-dark-faint: #e0dce0; /* 亮色正常，暗色很淡 */
  --color-border-adaptive-light-subtle-dark-none: #ede9e3; /* 亮色淡边框，暗色无 */
  --color-border-adaptive-light-normal-dark-none: #e0dce0; /* 亮色正常，暗色无 */
  --color-border-hover: #56949f;
  --color-border-focus: #56949f;
  --color-border-active: #56949f;
  --color-border-error: #b4637a;
  --color-border-success: #56949f;
  --color-border-warning: #ea9d34;
  --color-border-input: #d9d9d9;
  --color-border-input-hover: #797593;
  --color-border-input-focus: #56949f;

  /* 3.4 状态色系 */
  --color-success: #56949f;
  --color-success-light: rgba(86, 149, 159, 0.12);
  --color-success-text: #286983;
  --color-warning: #ea9d34;
  --color-warning-light: rgba(234, 157, 52, 0.12);
  --color-warning-text: #c27b1a;
  --color-danger: #b4637a;
  --color-danger-light: rgba(180, 99, 122, 0.12);
  --color-danger-text: #9a4a5f;
  --color-info: #286983;
  --color-info-light: rgba(40, 105, 131, 0.12);
  --color-info-text: #286983;

  /* 3.5 任务状态专用色 */
  --color-status-completed: #d7827e;
  --color-status-completed-light: rgba(215, 130, 126, 0.12);
  --color-status-completed-checkbox: #d7827e;
  --color-status-present: #286983;
  --color-status-present-light: rgba(40, 105, 131, 0.12);
  --color-status-present-checkbox: #286983;
  --color-status-pending: #9893a5;
  --color-status-pending-checkbox: #d9d9d9;
  --color-status-archived: #797593;
  --color-status-archived-light: rgba(121, 117, 147, 0.08);
  --color-deadline-soft: #9893a5;
  --color-deadline-hard: #ea9d34;
  --color-deadline-overdue: #d32f2f;
  --color-deadline-upcoming: #ea9d34;

  /* 3.6 交互色系 */
  --color-focus-ring: rgba(40, 105, 131, 0.25);
  --color-focus-ring-danger: rgba(180, 99, 122, 0.25);
  --color-selected-indicator: #56949f;
  --color-selected-background: rgba(40, 105, 131, 0.12);
  --color-drag-border: #56949f;
  --color-drag-indicator: #286983;
  --color-drop-zone-active: rgba(86, 149, 159, 0.15);

  /* 3.7 时间相关色 */
  --color-time-current: #286983;
  --color-time-past: #9893a5;
  --color-time-future: #56949f;
  --color-time-conflict: #b4637a;
  --color-calendar-today: #56949f;
  --color-calendar-today-bg: rgba(40, 105, 131, 0.08);
  --color-calendar-weekend: #797593;
  --color-calendar-other-month: #9893a5;

  /* 3.8 组件专用色 */
  --color-button-primary-bg: #d7827e; /* Rose */
  --color-button-primary-hover: #c4706c;
  --color-button-primary-text: #575279; /* Text - 深色文字 */
  --color-button-secondary-bg: transparent;
  --color-button-secondary-hover: #f4ede8;
  --color-button-secondary-border: #e0dce0;
  --color-button-danger-bg: #b4637a;
  --color-button-danger-hover: #9a4a5f;
  --color-button-danger-text: #ffffff;
  --color-card-background: #f2e9e1; /* Overlay - 卡片比 Surface 背景更深 */
  --color-card-hover: #ede4db;
  --color-card-border: #ede9e3;
  --color-card-available: #f2e9e1; /* Overlay */
  --color-divider: #ede9e3;
  --color-divider-strong: #e0dce0;
  --color-tag-background: #f4ede8;
  --color-tag-text: #575279;
  --color-tag-border: #ede9e3;
  --color-background-accent: #56949f;
  --color-background-accent-light: rgba(86, 149, 159, 0.12);

  /* 3.9 效果系统 */
  --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.06);
  --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.08);
  --shadow-lg: 0 8px 24px rgba(0, 0, 0, 0.10);
  --shadow-xl: 0 16px 48px rgba(0, 0, 0, 0.12);
  --shadow-focus: 0 0 0 3px rgba(40, 105, 131, 0.15);
  --shadow-focus-danger: 0 0 0 3px rgba(180, 99, 122, 0.25);
  --opacity-disabled: 0.5;
  --opacity-loading: 0.6;
  --opacity-completed: 0.7;
  --opacity-drag: 0.85;
  --opacity-hover-subtle: 0.08;
  --color-skeleton-base: #f4ede8;
  --color-skeleton-highlight: #dfdad9;
  --color-empty-icon: #9893a5;
  --color-empty-text: #797593;

  /* 3.10 UI 元素专用色 */
  --color-scrollbar-thumb: #d0cdd1;
  --color-scrollbar-thumb-hover: #9893a5;
  --color-handle: #d0cdd1;
  --color-handle-hover: #9893a5;
  --color-input-underline: #d0cdd1;
  --color-calendar-grid: #e0dce0;

  /* 3.11 默认区域色 */
  /* 统一：效率灰（用于“无区域”任务/时间块的默认颜色） */
  --color-area-default: #9ca3af;
}


/* ============================================
   4. Rose Pine Moon 主题（深色变体）
   ============================================ */

body.theme-rose-pine-moon {
  /* 4.1 基础背景色系 */
  --color-background-primary: #232136;
  --color-background-secondary: #2a273f;
  --color-background-content: #393552;
  --color-background-elevated: #393552; /* Rose Pine Overlay */
  --color-background-hover: #393552;
  --color-background-active: #44415a;
  --color-background-selected: #2a283e;
  --color-background-disabled: #2a283e;
  --color-background-input: #2a273f;
  --color-background-input-hover: #2a283e;
  --color-background-input-focus: #393552; /* Elevated */
  --color-overlay-light: rgba(0, 0, 0, 0.05);
  --color-overlay-medium: rgba(0, 0, 0, 0.15);
  --color-overlay-heavy: rgba(0, 0, 0, 0.5);
  --color-background-drag-target: #2a283e;
  --color-background-drag-preview: #2a283e;

  /* 4.2 文本色系 */
  --color-text-primary: #e0def4;
  --color-text-secondary: #bfbcd4;
  --color-text-tertiary: #6e6a86;
  --color-text-disabled: #6e6a86;
  --color-text-placeholder: #6e6a86;
  --color-text-accent: #9ccfd8;
  --color-text-on-accent: #232136;
  --color-text-on-dark: #e0def4;

  /* 4.3 边框色系 - 使用 Rose Pine Moon Highlight 系列 */
  --color-border-default: #44415a; /* Highlight Med */
  --color-border-light: rgba(68, 65, 90, 0.3); /* Highlight Med 半透明 */
  --color-border-strong: #56526e; /* Highlight High */
  --color-border-subtle: rgba(68, 65, 90, 0.3); /* 极淡边框，用于大面积内容区 */
  /* 自适应边框 - 根据主题调整可见度 */
  --color-border-adaptive-light-normal-dark-soft: rgba(68, 65, 90, 0.5); /* 亮色正常，暗色稍淡 */
  --color-border-adaptive-light-normal-dark-faint: rgba(68, 65, 90, 0.2); /* 亮色正常，暗色很淡 */
  --color-border-adaptive-light-subtle-dark-none: transparent; /* 亮色淡边框，暗色无 */
  --color-border-adaptive-light-normal-dark-none: transparent; /* 亮色正常，暗色无 */
  --color-border-hover: #9ccfd8;
  --color-border-focus: #9ccfd8;
  --color-border-active: #9ccfd8;
  --color-border-error: #eb6f92;
  --color-border-success: #9ccfd8;
  --color-border-warning: #f6c177;
  --color-border-input: #44415a; /* Highlight Med */
  --color-border-input-hover: #56526e; /* Highlight High */
  --color-border-input-focus: #9ccfd8;

  /* 4.4 状态色系 */
  --color-success: #9ccfd8;
  --color-success-light: #2a283e;
  --color-success-text: #9ccfd8;
  --color-warning: #f6c177;
  --color-warning-light: #2a283e;
  --color-warning-text: #f6c177;
  --color-danger: #eb6f92;
  --color-danger-light: #2a283e;
  --color-danger-text: #eb6f92;
  --color-info: #3e8fb0;
  --color-info-light: #2a283e;
  --color-info-text: #3e8fb0;

  /* 4.5 任务状态专用色 */
  --color-status-completed: #3e8fb0;
  --color-status-completed-light: #2a283e;
  --color-status-completed-checkbox: #3e8fb0;
  --color-status-present: #c4a7e7;
  --color-status-present-light: #2a283e;
  --color-status-present-checkbox: #c4a7e7;
  --color-status-pending: #6e6a86;
  --color-status-pending-checkbox: #6e6a86;
  --color-status-archived: #908caa;
  --color-status-archived-light: #2a283e;
  --color-deadline-soft: #6e6a86;
  --color-deadline-hard: #f6c177;
  --color-deadline-overdue: #eb6f92;
  --color-deadline-upcoming: #f6c177;

  /* 4.6 交互色系 */
  --color-focus-ring: #9ccfd8;
  --color-focus-ring-danger: #eb6f92;
  --color-selected-indicator: #9ccfd8;
  --color-selected-background: #2a283e;
  --color-drag-border: #9ccfd8;
  --color-drag-indicator: #3e8fb0;
  --color-drop-zone-active: #44415a;

  /* 4.7 时间相关色 */
  --color-time-current: #3e8fb0;
  --color-time-past: #6e6a86;
  --color-time-future: #9ccfd8;
  --color-time-conflict: #eb6f92;
  --color-calendar-today: #9ccfd8;
  --color-calendar-today-bg: #2a283e;
  --color-calendar-weekend: #908caa;
  --color-calendar-other-month: #6e6a86;

  /* 4.8 组件专用色 */
  --color-button-primary-bg: #ea9a97; /* Rose */
  --color-button-primary-hover: #d88885;
  --color-button-primary-text: #232136; /* Base - 深色文字 */
  --color-button-secondary-bg: transparent;
  --color-button-secondary-hover: #2a283e;
  --color-button-secondary-border: rgba(110, 106, 134, 0.25);
  --color-button-danger-bg: #eb6f92;
  --color-button-danger-hover: #eb6f92;
  --color-button-danger-text: #232136;
  --color-card-background: #393552; /* Overlay - 卡片比 Surface 背景更亮 */
  --color-card-hover: #3d3a56;
  --color-card-border: rgba(68, 65, 90, 0.3);
  --color-card-available: #393552; /* Overlay */
  --color-divider: rgba(68, 65, 90, 0.3);
  --color-divider-strong: rgba(110, 106, 134, 0.25);
  --color-tag-background: #2a283e;
  --color-tag-text: #e0def4;
  --color-tag-border: rgba(68, 65, 90, 0.3);
  --color-background-accent: #9ccfd8;
  --color-background-accent-light: #2a283e;

  /* 4.9 效果系统 */
  --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.08);
  --shadow-md: 0 4px 12px rgba(0, 0, 0, 0.10);
  --shadow-lg: 0 8px 24px rgba(0, 0, 0, 0.12);
  --shadow-xl: 0 16px 48px rgba(0, 0, 0, 0.15);
  --shadow-focus: 0 0 0 3px #44415a;
  --shadow-focus-danger: 0 0 0 3px #eb6f92;
  --opacity-disabled: 0.5;
  --opacity-loading: 0.6;
  --opacity-completed: 0.7;
  --opacity-drag: 0.85;
  --opacity-hover-subtle: 0.08;
  --color-skeleton-base: #2a283e;
  --color-skeleton-highlight: #44415a;
  --color-empty-icon: #6e6a86;
  --color-empty-text: #908caa;

  /* 4.10 UI 元素专用色 */
  --color-scrollbar-thumb: #6e6a86;
  --color-scrollbar-thumb-hover: #908caa;
  --color-handle: #6e6a86;
  --color-handle-hover: #908caa;
  --color-input-underline: #6e6a86;
  --color-calendar-grid: #56526e;

  /* 4.11 默认区域色 */
  /* 统一：效率灰（用于“无区域”任务/时间块的默认颜色） */
  --color-area-default: #9ca3af;
}


/* ============================================
   5. Cutie 主题（可爱风格）
   ============================================ */

body.theme-cutie {
  /* 5.1 基础背景色系 */
  --color-background-primary: #fff5f7;
  --color-background-secondary: #fff9fb;
  --color-background-content: #fffbfd;
  --color-background-elevated: #ffffff;
  --color-background-hover: #fff0f5;
  --color-background-active: #ffe4ec;
  --color-background-selected: rgba(255, 107, 157, 0.08);
  --color-background-disabled: #fff0f5;
  --color-background-input: #ffffff;
  --color-background-input-hover: #fff0f5;
  --color-background-input-focus: #ffffff; /* Elevated (same as input for Cutie) */
  --color-overlay-light: rgba(255, 107, 157, 0.03);
  --color-overlay-medium: rgba(255, 107, 157, 0.10);
  --color-overlay-heavy: rgba(0, 0, 0, 0.4);
  --color-background-drag-target: rgba(255, 179, 198, 0.12);
  --color-background-drag-preview: rgba(255, 107, 157, 0.05);

  /* 5.2 文本色系 */
  --color-text-primary: #5d4855;
  --color-text-secondary: #9d8090;
  --color-text-tertiary: #c4a4b0;
  --color-text-disabled: rgba(93, 72, 85, 0.4);
  --color-text-placeholder: #c4a4b0;
  --color-text-accent: #ff6b9d;
  --color-text-on-accent: #ffffff;
  --color-text-on-dark: #5d4855;

  /* 5.3 边框色系 */
  --color-border-default: #f5d4e0;
  --color-border-light: #fce4ed;
  --color-border-strong: #e8c4d4;
  /* 自适应边框 - 浅色主题下正常显示 */
  --color-border-adaptive-light-normal-dark-soft: #f5d4e0; /* 亮色正常，暗色稍淡 */
  --color-border-adaptive-light-normal-dark-faint: #f5d4e0; /* 亮色正常，暗色很淡 */
  --color-border-adaptive-light-subtle-dark-none: #fce4ed; /* 亮色淡边框，暗色无 */
  --color-border-adaptive-light-normal-dark-none: #f5d4e0; /* 亮色正常，暗色无 */
  --color-border-hover: #ff6b9d;
  --color-border-focus: #ff6b9d;
  --color-border-active: #ff6b9d;
  --color-border-error: #ff6b9d;
  --color-border-success: #7dd4dd;
  --color-border-warning: #ffb347;
  --color-border-input: #f5d4e0;
  --color-border-input-hover: #e8c4d4;
  --color-border-input-focus: #ff6b9d;

  /* 5.4 状态色系 */
  --color-success: #7dd4dd;
  --color-success-light: rgba(125, 212, 221, 0.12);
  --color-success-text: #4da8b3;
  --color-warning: #ffb347;
  --color-warning-light: rgba(255, 179, 71, 0.12);
  --color-warning-text: #e69422;
  --color-danger: #ff6b9d;
  --color-danger-light: rgba(255, 107, 157, 0.12);
  --color-danger-text: #e84c7d;
  --color-info: #c4a4e0;
  --color-info-light: rgba(196, 164, 224, 0.12);
  --color-info-text: #9d7ac4;

  /* 5.5 任务状态专用色 */
  --color-status-completed: #ffb3c6;
  --color-status-completed-light: rgba(255, 179, 198, 0.12);
  --color-status-completed-checkbox: #ffb3c6;
  --color-status-present: #7dd4dd;
  --color-status-present-light: rgba(125, 212, 221, 0.12);
  --color-status-present-checkbox: #7dd4dd;
  --color-status-pending: #c4a4b0;
  --color-status-pending-checkbox: #f5d4e0;
  --color-status-archived: #9d8090;
  --color-status-archived-light: rgba(157, 128, 144, 0.08);
  --color-deadline-soft: #c4a4b0;
  --color-deadline-hard: #ffb347;
  --color-deadline-overdue: #ff6b9d;
  --color-deadline-upcoming: #ffb347;

  /* 5.6 交互色系 */
  --color-focus-ring: rgba(255, 107, 157, 0.25);
  --color-focus-ring-danger: rgba(255, 133, 82, 0.25);
  --color-selected-indicator: #ff6b9d;
  --color-selected-background: rgba(255, 107, 157, 0.08);
  --color-drag-border: #ffb3c6;
  --color-drag-indicator: #7dd4dd;
  --color-drop-zone-active: rgba(255, 179, 198, 0.15);

  /* 5.7 时间相关色 */
  --color-time-current: #7dd4dd;
  --color-time-past: #c4a4b0;
  --color-time-future: #c4a4e0;
  --color-time-conflict: #ff6b9d;
  --color-calendar-today: #ff6b9d;
  --color-calendar-today-bg: rgba(255, 107, 157, 0.08);
  --color-calendar-weekend: #9d8090;
  --color-calendar-other-month: #c4a4b0;

  /* 5.8 组件专用色 */
  --color-button-primary-bg: #ff6b9d;
  --color-button-primary-hover: #e84c7d;
  --color-button-primary-text: #ffffff;
  --color-button-secondary-bg: transparent;
  --color-button-secondary-hover: #fff0f5;
  --color-button-secondary-border: #f5d4e0;
  --color-button-danger-bg: #ff8552;
  --color-button-danger-hover: #ff6b33;
  --color-button-danger-text: #ffffff;
  --color-card-background: #fff9fb;
  --color-card-hover: #fffbfd;
  --color-card-border: #fce4ed;
  --color-card-available: #fff9fb;
  --color-divider: #fce4ed;
  --color-divider-strong: #f5d4e0;
  --color-tag-background: #fff0f5;
  --color-tag-text: #5d4855;
  --color-tag-border: #fce4ed;
  --color-background-accent: #ff6b9d;
  --color-background-accent-light: rgba(255, 107, 157, 0.12);

  /* 5.9 效果系统 */
  --shadow-sm: 0 2px 8px rgba(255, 107, 157, 0.08);
  --shadow-md: 0 4px 12px rgba(255, 107, 157, 0.12);
  --shadow-lg: 0 8px 24px rgba(255, 107, 157, 0.15);
  --shadow-xl: 0 16px 48px rgba(255, 107, 157, 0.18);
  --shadow-focus: 0 0 0 3px rgba(255, 107, 157, 0.20);
  --shadow-focus-danger: 0 0 0 3px rgba(255, 133, 82, 0.25);
  --opacity-disabled: 0.5;
  --opacity-loading: 0.6;
  --opacity-completed: 0.7;
  --opacity-drag: 0.85;
  --opacity-hover-subtle: 0.08;
  --color-skeleton-base: #fff0f5;
  --color-skeleton-highlight: #ffe4ec;
  --color-empty-icon: #c4a4b0;
  --color-empty-text: #9d8090;

  /* 5.10 UI 元素专用色 */
  --color-scrollbar-thumb: #e8c4d4;
  --color-scrollbar-thumb-hover: #c4a4b0;
  --color-handle: #e8c4d4;
  --color-handle-hover: #c4a4b0;
  --color-input-underline: #e8c4d4;
  --color-calendar-grid: #f5d4e0;

  /* 5.11 默认区域色 */
  /* 统一：效率灰（用于“无区域”任务/时间块的默认颜色） */
  --color-area-default: #9ca3af;
}


/* ============================================
   6. Business 主题（专业商务风格）
   ============================================ */

body.theme-business {
  /* 6.1 基础背景色系 */
  --color-background-primary: #f5f5f5;
  --color-background-secondary: #fcfcfc;
  --color-background-content: #ffffff;
  --color-background-elevated: #ffffff;
  --color-background-hover: #fafafa;
  --color-background-active: #e0e0e0;
  --color-background-selected: rgba(25, 118, 210, 0.08);
  --color-background-disabled: #fafafa;
  --color-background-input: #ffffff;
  --color-background-input-hover: #fafafa;
  --color-background-input-focus: #ffffff; /* Elevated (same as input for Business) */
  --color-overlay-light: rgba(0, 0, 0, 0.04);
  --color-overlay-medium: rgba(0, 0, 0, 0.12);
  --color-overlay-heavy: rgba(0, 0, 0, 0.5);
  --color-background-drag-target: rgba(33, 150, 243, 0.08);
  --color-background-drag-preview: rgba(0, 0, 0, 0.03);

  /* 6.2 文本色系 */
  --color-text-primary: #424242;
  --color-text-secondary: #757575;
  --color-text-tertiary: #9e9e9e;
  --color-text-disabled: rgba(66, 66, 66, 0.38);
  --color-text-placeholder: #9e9e9e;
  --color-text-accent: #1976d2;
  --color-text-on-accent: #ffffff;
  --color-text-on-dark: #424242;

  /* 6.3 边框色系 */
  --color-border-default: #e0e0e0;
  --color-border-light: #eeeeee;
  --color-border-strong: #bdbdbd;
  /* 自适应边框 - 浅色主题下正常显示 */
  --color-border-adaptive-light-normal-dark-soft: #e0e0e0; /* 亮色正常，暗色稍淡 */
  --color-border-adaptive-light-normal-dark-faint: #e0e0e0; /* 亮色正常，暗色很淡 */
  --color-border-adaptive-light-subtle-dark-none: #eeeeee; /* 亮色淡边框，暗色无 */
  --color-border-adaptive-light-normal-dark-none: #e0e0e0; /* 亮色正常，暗色无 */
  --color-border-hover: #1976d2;
  --color-border-focus: #1976d2;
  --color-border-active: #1565c0;
  --color-border-error: #f44336;
  --color-border-success: #4caf50;
  --color-border-warning: #ff9800;
  --color-border-input: #e0e0e0;
  --color-border-input-hover: #bdbdbd;
  --color-border-input-focus: #1976d2;

  /* 6.4 状态色系 */
  --color-success: #4caf50;
  --color-success-light: rgba(76, 175, 80, 0.12);
  --color-success-text: #2e7d32;
  --color-warning: #ff9800;
  --color-warning-light: rgba(255, 152, 0, 0.12);
  --color-warning-text: #e65100;
  --color-danger: #f44336;
  --color-danger-light: rgba(244, 67, 54, 0.12);
  --color-danger-text: #c62828;
  --color-info: #2196f3;
  --color-info-light: rgba(33, 150, 243, 0.12);
  --color-info-text: #1565c0;

  /* 6.5 任务状态专用色 */
  --color-status-completed: #4caf50;
  --color-status-completed-light: rgba(76, 175, 80, 0.12);
  --color-status-completed-checkbox: #4caf50;
  --color-status-present: #2196f3;
  --color-status-present-light: rgba(33, 150, 243, 0.12);
  --color-status-present-checkbox: #2196f3;
  --color-status-pending: #9e9e9e;
  --color-status-pending-checkbox: #bdbdbd;
  --color-status-archived: #757575;
  --color-status-archived-light: rgba(117, 117, 117, 0.08);
  --color-deadline-soft: #9e9e9e;
  --color-deadline-hard: #ff9800;
  --color-deadline-overdue: #f44336;
  --color-deadline-upcoming: #ff9800;

  /* 6.6 交互色系 */
  --color-focus-ring: rgba(25, 118, 210, 0.20);
  --color-focus-ring-danger: rgba(244, 67, 54, 0.20);
  --color-selected-indicator: #1976d2;
  --color-selected-background: rgba(25, 118, 210, 0.08);
  --color-drag-border: #2196f3;
  --color-drag-indicator: #1976d2;
  --color-drop-zone-active: rgba(33, 150, 243, 0.12);

  /* 6.7 时间相关色 */
  --color-time-current: #2196f3;
  --color-time-past: #9e9e9e;
  --color-time-future: #00897b;
  --color-time-conflict: #f44336;
  --color-calendar-today: #1976d2;
  --color-calendar-today-bg: rgba(25, 118, 210, 0.08);
  --color-calendar-weekend: #757575;
  --color-calendar-other-month: #bdbdbd;

  /* 6.8 组件专用色 */
  --color-button-primary-bg: #1976d2;
  --color-button-primary-hover: #1565c0;
  --color-button-primary-text: #ffffff;
  --color-button-secondary-bg: transparent;
  --color-button-secondary-hover: #fafafa;
  --color-button-secondary-border: #e0e0e0;
  --color-button-danger-bg: #d32f2f;
  --color-button-danger-hover: #c62828;
  --color-button-danger-text: #ffffff;
  --color-card-background: #fcfcfc;
  --color-card-hover: #fafafa;
  --color-card-border: #eeeeee;
  --color-card-available: #fcfcfc;
  --color-divider: #eeeeee;
  --color-divider-strong: #e0e0e0;
  --color-tag-background: #fafafa;
  --color-tag-text: #424242;
  --color-tag-border: #eeeeee;
  --color-background-accent: #1976d2;
  --color-background-accent-light: rgba(25, 118, 210, 0.12);

  /* 6.9 效果系统 */
  --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.12);
  --shadow-md: 0 2px 6px rgba(0, 0, 0, 0.16);
  --shadow-lg: 0 4px 12px rgba(0, 0, 0, 0.20);
  --shadow-xl: 0 8px 24px rgba(0, 0, 0, 0.24);
  --shadow-focus: 0 0 0 3px rgba(25, 118, 210, 0.2);
  --shadow-focus-danger: 0 0 0 3px rgba(244, 67, 54, 0.2);
  --opacity-disabled: 0.38;
  --opacity-loading: 0.6;
  --opacity-completed: 0.7;
  --opacity-drag: 0.85;
  --opacity-hover-subtle: 0.08;
  --color-skeleton-base: #fafafa;
  --color-skeleton-highlight: #e0e0e0;
  --color-empty-icon: #9e9e9e;
  --color-empty-text: #757575;

  /* 6.10 UI 元素专用色 */
  --color-scrollbar-thumb: #bdbdbd;
  --color-scrollbar-thumb-hover: #9e9e9e;
  --color-handle: #bdbdbd;
  --color-handle-hover: #9e9e9e;
  --color-input-underline: #bdbdbd;
  --color-calendar-grid: #e0e0e0;

  /* 6.11 默认区域色 */
  /* 统一：效率灰（用于“无区域”任务/时间块的默认颜色） */
  --color-area-default: #9ca3af;
}


/* ============================================
   7. 全局基础样式
   ============================================ */

body {
  margin: 0;
  padding: 0;
  font-family: /* 'LXGW WenKai', */ -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  color: var(--color-text-primary);
  background-color: var(--color-background-primary);
  -webkit-tap-highlight-color: transparent;
  user-select: none;
}

*,
*::before,
*::after {
  box-sizing: border-box;
}

a {
  color: var(--color-text-accent);
  text-decoration: none;
  transition: color 0.2s;
}

a:hover {
  text-decoration: underline;
}


/* ============================================
   8. 全局滚动条样式
   ============================================ */

::-webkit-scrollbar-button {
  display: none;
  height: 0;
  width: 0;
}

::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background-color: var(--color-scrollbar-thumb);
  border-radius: 4px;
  transition: background-color 0.2s;
}

::-webkit-scrollbar-thumb:hover {
  background-color: var(--color-scrollbar-thumb-hover);
}


/* ============================================
   9. 拖拽截断模式样式
   ============================================ */

.drag-compact {
  position: relative;
}

.drag-compact :where(.task-strip, .task-card) {
  position: relative;
  overflow: hidden;
}

.drag-compact :where(.task-strip) {
  padding-bottom: 1.2rem;
}

.drag-compact :where(.task-card) {
  padding-bottom: 1.4rem;
}

.drag-compact :where(.task-strip)::after,
.drag-compact :where(.task-card)::after {
  content: '…';
  position: absolute;
  right: 1.2rem;
  bottom: 0.8rem;
  font-size: 1.6rem;
  line-height: 1;
  color: var(--color-text-tertiary);
  pointer-events: none;
}

.drag-compact :where(.task-strip)::after {
  bottom: 0.6rem;
}

.drag-compact
  :where(
    .task-strip .area-tag-inline,
    .task-strip .estimated-duration-wrapper,
    .task-strip .time-blocks-inline,
    .task-strip .due-date-section,
    .task-strip .subtasks-section
  ) {
  display: none !important;
}

.drag-compact
  :where(
    .task-card .time-indicator-bar,
    .task-card .card-footer,
    .task-card .due-date-section,
    .task-card .subtasks-section,
    .task-card .estimated-duration-wrapper,
    .task-card .time-picker-popup
  ) {
  display: none !important;
}

.drag-compact :where(.task-strip .task-note, .task-card .notes-section) {
  margin-top: 0.4rem;
}

.drag-compact
  :where(
    .task-strip .task-title,
    .task-strip .note-text,
    .task-card .title,
    .task-card .note-text
  ) {
  display: -webkit-box;
  line-clamp: 1;
  -webkit-line-clamp: 1;
  -webkit-box-orient: vertical;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* ============================================
   10. Section 拖拽样式
   ============================================ */

/* 幽灵元素 - 简化的标题栏 */
.section-drag-ghost {
  position: fixed;
  z-index: 10000;
  pointer-events: none;

  /* 外观 */
  display: flex;
  align-items: center;
  gap: 0.8rem;
  padding: 0.8rem 1.2rem;
  background: var(--color-background-primary, #faf4ed);
  border: 2px solid var(--rose-pine-foam, #56949f);
  border-radius: 0.8rem;
  box-shadow:
    0 8px 24px rgb(0 0 0 / 15%),
    0 0 0 1px var(--rose-pine-foam, #56949f);

  /* 半透明 */
  opacity: 0.9;

  /* 防止选中 */
  user-select: none;
}

.section-drag-ghost .ghost-icon {
  font-size: 1.4rem;
  flex-shrink: 0;
}

.section-drag-ghost .ghost-title {
  font-size: 1.4rem;
  font-weight: 600;
  color: var(--color-text-primary, #575279);
  max-width: 200px;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  line-height: 1.4;
}

/* 克隆的标题栏幽灵元素（虚化效果） */
.section-drag-ghost.section-drag-ghost-cloned {
  /* 重置内部样式 */
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 1rem 1.6rem;
  border-radius: 0.6rem;

  /* 虚化效果 */
  opacity: 0.85;
  filter: blur(0.5px);
  transform: scale(1.02);
  transition: none;
}

/* 拖动指示线 */
.section-drop-indicator {
  height: 3px;
  background: var(--rose-pine-foam, #56949f);
  border-radius: 2px;
  margin: 0.4rem 0;
  position: relative;
  z-index: 10;
  box-shadow: 0 0 8px var(--rose-pine-foam, #56949f);
  animation: section-drop-pulse 1s ease-in-out infinite;
}

@keyframes section-drop-pulse {
  0%,
  100% {
    opacity: 1;
  }

  50% {
    opacity: 0.6;
  }
}

/* 正在拖动的源 Section */
.task-section.is-dragging {
  opacity: 0.4;
  transition: opacity 0.2s ease;
}

/* Section 拖拽把手样式 */
.task-section.is-draggable {
  cursor: grab;
}

.task-section.is-draggable:active {
  cursor: grabbing;
}

/* ============================================
   11. 实用工具类
   ============================================ */

/* 文本颜色工具类 */
.text-primary { color: var(--color-text-primary); }
.text-secondary { color: var(--color-text-secondary); }
.text-tertiary { color: var(--color-text-tertiary); }
.text-accent { color: var(--color-text-accent); }
.text-success { color: var(--color-success-text); }
.text-warning { color: var(--color-warning-text); }
.text-danger { color: var(--color-danger-text); }
.text-info { color: var(--color-info-text); }

/* 背景色工具类 */
.bg-primary { background-color: var(--color-background-primary); }
.bg-secondary { background-color: var(--color-background-secondary); }
.bg-content { background-color: var(--color-background-content); }
.bg-hover { background-color: var(--color-background-hover); }

/* 边框工具类 */
.border-default { border-color: var(--color-border-default); }
.border-light { border-color: var(--color-border-light); }
.border-strong { border-color: var(--color-border-strong); }

/* 阴影工具类 */
.shadow-sm { box-shadow: var(--shadow-sm); }
.shadow-md { box-shadow: var(--shadow-md); }
.shadow-lg { box-shadow: var(--shadow-lg); }
.shadow-xl { box-shadow: var(--shadow-xl); }

/* 透明度工具类 */
.opacity-disabled { opacity: var(--opacity-disabled); }
.opacity-completed { opacity: var(--opacity-completed); }
.opacity-drag { opacity: var(--opacity-drag); }
