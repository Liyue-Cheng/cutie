<script setup lang="ts">
import type { ViewMetadata, StatusViewConfig } from '@/types/drag'
import SimpleKanbanColumn from './SimpleKanbanColumn.vue'

// ğŸ—‘ï¸ ç§»é™¤ emit - ä¸å†éœ€è¦è½¬å‘äº‹ä»¶

// éµå¾ª VIEW_CONTEXT_KEY_SPEC.md è§„èŒƒ
const VIEW_KEY = 'misc::archive'

// ViewMetadata é…ç½®
const viewMetadata: ViewMetadata = {
  type: 'status',
  id: VIEW_KEY,
  config: { status: 'archived' } as StatusViewConfig,
  label: 'Archive',
}

// ğŸ—‘ï¸ ç§»é™¤ï¼šä»»åŠ¡æ“ä½œç°åœ¨ç”± SimpleKanbanColumn å†…éƒ¨å¤„ç†
// const archivedTasks = computed(() => { ... })
// async function handleReorderTasks() { ... }
// async function handleCrossViewDrop() { ... }
</script>

<template>
  <div class="archive-column-wrapper">
    <SimpleKanbanColumn
      title="Archive"
      subtitle="å·²å½’æ¡£çš„ä»»åŠ¡"
      :show-add-input="false"
      :view-key="VIEW_KEY"
      :view-metadata="viewMetadata"
    />
  </div>
</template>

<style scoped>
.archive-column-wrapper {
  width: 100%;
  height: 100%;
  display: flex;
  justify-content: center;
}

/* è¦†ç›– SimpleKanbanColumn çš„å†…éƒ¨æ»šåŠ¨ï¼Œè®©å¤–å±‚å®¹å™¨å¤„ç†æ»šåŠ¨ */
.archive-column-wrapper :deep(.simple-kanban-column) {
  height: auto; /* ä¸é™åˆ¶é«˜åº¦ï¼Œè®©å†…å®¹è‡ªç„¶æ‰©å±• */
}

.archive-column-wrapper :deep(.task-list-scroll-area) {
  overflow-y: visible; /* ç§»é™¤å†…éƒ¨æ»šåŠ¨ */
  flex-grow: 0; /* ä¸å æ®å‰©ä½™ç©ºé—´ */
  flex-shrink: 0; /* ä¸æ”¶ç¼© */
  min-height: 0;
}

/* å½’æ¡£ä»»åŠ¡æ ·å¼å¾®è°ƒ */
.archive-column-wrapper :deep(.kanban-task-card) {
  opacity: 0.8;
}

.archive-column-wrapper :deep(.kanban-task-card:hover) {
  opacity: 1;
}
</style>
