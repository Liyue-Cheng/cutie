# Cutie é¡¹ç›®å·¥å…·æ–‡æ¡£

> æœ¬æ–‡æ¡£è®°å½•é¡¹ç›®ä¸­ä½¿ç”¨çš„å„ç§å¼€å‘å·¥å…·å’Œå®ç”¨ç¨‹åºã€‚

---

## ğŸ“š æ–‡æ¡£å·¥å…·

### doc-composer

**è·¯å¾„**: `src-tauri/src/bin/doc_composer.rs`

**ç”¨é€”**: è‡ªåŠ¨ä» API ç«¯ç‚¹æ–‡ä»¶ä¸­æå– CABC æ–‡æ¡£ï¼Œç”Ÿæˆå®Œæ•´çš„ API å‚è€ƒæ‰‹å†Œã€‚

**å·¥ä½œåŸç†**:
1. æ‰«æ `src-tauri/src/features/*/endpoints/*.rs` æ‰€æœ‰ç«¯ç‚¹æ–‡ä»¶
2. ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æå– `/* CABC for ... */` æ³¨é‡Šå—
3. è§£æç«¯ç‚¹ç­¾åï¼ˆHTTP æ–¹æ³•å’Œè·¯å¾„ï¼‰
4. æŒ‰ feature åˆ†ç»„å¹¶æŒ‰è·¯å¾„æ’åº
5. ç”Ÿæˆ Markdown æ ¼å¼çš„ API æ–‡æ¡£åˆ° `docs/API.md`

**ä½¿ç”¨æ–¹å¼**:

```bash
# æ‰‹åŠ¨ç”Ÿæˆæ–‡æ¡£
pnpm docs:generate

# æˆ–ç›´æ¥è¿è¡Œ Rust å·¥å…·
cd src-tauri && cargo run --bin doc-composer

# æ„å»ºæ—¶è‡ªåŠ¨ç”Ÿæˆï¼ˆé€šè¿‡ prebuild hookï¼‰
pnpm build
```

**è¾“å‡ºç¤ºä¾‹**:
- ç”Ÿæˆ `docs/API.md`ï¼ˆ3500+ è¡Œï¼‰
- åŒ…å«æ‰€æœ‰ API ç«¯ç‚¹çš„å®Œæ•´ CABC æ–‡æ¡£
- å¸¦ç›®å½•ã€æºæ–‡ä»¶å¼•ç”¨ã€æŒ‰ feature åˆ†ç»„

**é…ç½®**:

åœ¨ `package.json` ä¸­é…ç½®äº†è‡ªåŠ¨åŒ–è„šæœ¬ï¼š
```json
{
  "scripts": {
    "docs:generate": "cd src-tauri && cargo run --bin doc-composer",
    "prebuild": "npm run docs:generate"
  }
}
```

åœ¨ `src-tauri/Cargo.toml` ä¸­å£°æ˜äº† binaryï¼š
```toml
[[bin]]
name = "doc-composer"
path = "src/bin/doc_composer.rs"
```

**ä¾èµ–**:
- `regex` crate (æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…)
- Rust æ ‡å‡†åº“ (æ–‡ä»¶ç³»ç»Ÿæ“ä½œ)

**æ³¨æ„äº‹é¡¹**:
- âš ï¸ è¯·å‹¿æ‰‹åŠ¨ç¼–è¾‘ `docs/API.md`ï¼Œè¯¥æ–‡ä»¶ç”±å·¥å…·è‡ªåŠ¨ç”Ÿæˆ
- âœ… æ‰€æœ‰ API æ–‡æ¡£åº”è¯¥å†™åœ¨ç«¯ç‚¹æ–‡ä»¶çš„ `/* CABC for ... */` æ³¨é‡Šå—ä¸­
- âœ… å·¥å…·ä¼šè‡ªåŠ¨è·³è¿‡ `features/shared` ç›®å½•
- âœ… åªå¤„ç† `.rs` æ–‡ä»¶ï¼Œå¿½ç•¥å…¶ä»–æ–‡ä»¶

---

## ğŸ”§ å…¶ä»–å·¥å…·

*ï¼ˆå¾…æ·»åŠ ï¼‰*

<!--
æœªæ¥å¯èƒ½æ·»åŠ çš„å·¥å…·ï¼š
- æ•°æ®åº“è¿ç§»å·¥å…·
- æµ‹è¯•æ•°æ®ç”Ÿæˆå™¨
- æ€§èƒ½åˆ†æå·¥å…·
- ä»£ç ç”Ÿæˆå™¨
-->
